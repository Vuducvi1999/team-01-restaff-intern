<app-breadcrumb
  [title]="'Blog Details'"
  [breadcrumb]="'Blog Details'"
></app-breadcrumb>
<!--section start-->
<section class="blog-detail-page section-b-space">
  <div class="container">
    <div class="row">
      <div class="col-sm-12 blog-detail">
        <app-image-wrapper
          *ngIf="data"
          [data]="{
            title: data.title,
            url: getImage(data.imageUrl),
            typeClass: typeDisplayImage.BLOG_DETAIL
          }"
        ></app-image-wrapper>
        <h3>
          {{ data?.title }}
        </h3>
        <ul class="post-social">
          <li>{{ data?.createByDate | date: "mediumDate" }}</li>
          <li>Posted By : {{ data?.createdByName }}</li>
          <li>
            <i class="fa fa-comments"></i>
            {{ comments?.results.length + " Comment" }}
          </li>
          <li>
            Rating :
            <ngb-rating [max]="5" [rate]="ratingPoint" [starTemplate]="t">
              <ng-template #t let-fill="fill">
                <span class="star" [class.full]="fill === 100">
                  <span class="half" [style.width.%]="fill">&#9733;</span
                  >&#9733;
                </span>
              </ng-template>
            </ngb-rating>
          </li>
        </ul>
        <div [innerHTML]="data?.contentHTML"></div>

        <div class="mt-5">
          <h4 class="comment-label" #refComment>Comments</h4>
          <app-comment-detail
            *ngIf="comments"
            (action)="changePageIndex($event)"
            [comments]="comments"
          ></app-comment-detail>
        </div>
      </div>
      <div class="col-sm-12 mt-5" *ngIf="user">
        <h2 class="container">Leave Your Message</h2>
        <app-comment
          [dataComment]="dataComment"
          (action)="getComments()"
        ></app-comment>
      </div>
    </div>
    <div></div>
  </div>
</section>
